<p-panel>
    <div class="flex gap-4 items-center justify-center">
        <p-image src="assets/logo.jpg" alt="Image" width="100" class="h-[100px]" />
        <h2 class="text-center">Dety Frediani Beleza e Estética</h2>
    </div>
</p-panel>

<div class="card">
    <p-stepper [value]="1">
        <p-step-item [value]="1">
            <p-step>Agendamento</p-step>
            <p-step-panel>
                <ng-template #content let-activateCallback="activateCallback">
                    <div class="flex flex-col h-100" style="padding: 0.3rem;">
                        <div
                            class="p-4! border-2 border-dashed border-surface-200 dark:border-surface-700 rounded bg-surface-50 dark:bg-surface-950 flex-auto flex flex-col justify-start items-left font-medium">
                            <div>
                                <h2>Selecione um profissional:</h2>
                                <div>
                                    <p-avatar *ngFor="let item of professionals?.dados"
                                        image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png"
                                        class="mr-2 flex flex-col-reverse cursor-pointer" size="xlarge" shape="circle"
                                        ariaLabel="Teste" (click)="buscarDiasDisponiveis(item.id)" [ngClass]="{
                                        'opacity-100': item.id === profissionalSelecionadoId,
                                        'opacity-40 grayscale': item.id !== profissionalSelecionadoId
                                    }">
                                        <p class="font-bold" style="font-size: 0.8rem;">{{ item.nome }}</p>
                                    </p-avatar>

                                </div>
                            </div>
                            <div class="mt-4!" *ngIf="dayWithTimesFiltrados.length > 0">
                                <div *ngIf="day == undefined else comDiaSelecionado">
                                    <div class="card flex gap-2">
                                        <h2>Selecione uma data:</h2>
                                        <p-datepicker class="w-[120px]!" [(ngModel)]="date" (onSelect)="mudarMes()"
                                            view="month" dateFormat="mm/yy" [readonlyInput]="true" />
                                    </div>
                                    <div class="flex flex-wrap gap-2">
                                        <p-button severity="secondary" *ngFor="let item of dayWithTimesFiltrados"
                                            [label]="item.day.toString()" (click)="diaSelecionado(item.day)" />
                                    </div>
                                </div>
                                <ng-template #comDiaSelecionado>
                                    <h2>Selecione um horário:</h2>
                                    <div class="flex flex-wrap gap-2">
                                        <p-button *ngFor="let horario of horariosDoDiaSelecionado" severity="secondary"
                                            [label]="horario" (onClick)="selecionarHorario(horario)"></p-button>
                                    </div>
                                </ng-template>
                            </div>
                        </div>
                    </div>
                    <div class="flex py-6 gap-2">
                        <p-button *ngIf="day !== undefined" class="margin-button" label="Voltar" severity="secondary"
                            (onClick)="voltar()" />
                        <p-button class="margin-button" label="Próximo" (onClick)="activateCallback(2)"
                            [disabled]="horario == undefined" />
                    </div>
                </ng-template>
            </p-step-panel>
        </p-step-item>

        <p-step-item [value]="2">
            <p-step>Cadastro rápido</p-step>
            <p-step-panel>
                <ng-template #content let-activateCallback="activateCallback">
                    <div class="flex flex-col h-100">
                        <div
                            class="border-2 border-dashed border-surface-200 dark:border-surface-700 rounded bg-surface-50 dark:bg-surface-950 flex-auto flex justify-center items-center font-medium">
                            Content II
                        </div>
                    </div>
                    <div class="flex py-6 gap-2">
                        <p-button class="margin-button" label="Voltar" severity="secondary"
                            (onClick)="activateCallback(1)" />
                        <p-button class="margin-button" label="Próximo" (onClick)="activateCallback(3)" />
                    </div>
                </ng-template>
            </p-step-panel>
        </p-step-item>

        <p-step-item [value]="3">
            <p-step>Concluir</p-step>
            <p-step-panel>
                <ng-template #content let-activateCallback="activateCallback">
                    <div class="flex flex-col h-100">
                        <div
                            class="border-2 border-dashed border-surface-200 dark:border-surface-700 rounded bg-surface-50 dark:bg-surface-950 flex-auto flex justify-center items-center font-medium">
                            Content III
                        </div>
                    </div>
                    <div class="py-6">
                        <p-button class="margin-button" label="Voltar" severity="secondary"
                            (onClick)="activateCallback(2)" />
                        <p-button class="margin-button" label="Concluir" severity="secondary"
                            (onClick)="activateCallback(2)" />
                    </div>
                </ng-template>
            </p-step-panel>
        </p-step-item>
    </p-stepper>
</div>